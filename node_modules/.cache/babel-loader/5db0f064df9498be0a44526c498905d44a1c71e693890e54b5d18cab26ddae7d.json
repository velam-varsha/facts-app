{"ast":null,"code":"import{useEffect,useState}from\"react\";import supabase from\"./supabase\";import\"./style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const initialFacts=[{id:1,text:\"React is being developed by Meta (formerly facebook)\",source:\"https://opensource.fb.com/\",category:\"technology\",votesInteresting:24,votesMindblowing:9,votesFalse:4,createdIn:2021},{id:2,text:\"Millennial dads spend 3 times as much time with their kids than their fathers spent with them. In 1982, 43% of fathers had never changed a diaper. Today, that number is down to 3%\",source:\"https://www.mother.ly/parenting/millennial-dads-spend-more-time-with-their-kids\",category:\"society\",votesInteresting:11,votesMindblowing:2,votesFalse:0,createdIn:2019},{id:3,text:\"Lisbon is the capital of Portugal\",source:\"https://en.wikipedia.org/wiki/Lisbon\",category:\"society\",votesInteresting:8,votesMindblowing:3,votesFalse:1,createdIn:2015}];function Counter(){const[count,setCount]=useState(0);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"40px\"},children:count}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-large\",onClick:()=>setCount(c=>c+1),children:\"+1\"})]});}function App(){// 1. define state variable\nconst[showForm,setShowForm]=useState(false);const[facts,setFacts]=useState([]);const[isLoading,setIsLoading]=useState(false);const[currentCategory,SetCurrentCategory]=useState(\"all\");useEffect(function(){async function getFacts(){setIsLoading(true);let query=supabase.from(\"facts\").select(\"*\");if(currentCategory!==\"all\")query=query.eq(\"category\",currentCategory);const{data:facts,error}=await query.order(\"votesInteresting\",{ascending:false}).limit(1000);if(!error){setFacts(facts);}else{alert(\"There was a problem getting data\");}setIsLoading(false);}getFacts();},[currentCategory]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{showForm:showForm,setShowForm:setShowForm}),showForm?/*#__PURE__*/_jsx(NewFactForm,{setFacts:setFacts,setShowForm:setShowForm}):null,/*#__PURE__*/_jsxs(\"main\",{className:\"main\",children:[/*#__PURE__*/_jsx(CategoryFilter,{SetCurrentCategory:SetCurrentCategory}),isLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(FactList,{facts:facts,setFacts:setFacts})]})]});}function Loader(){return/*#__PURE__*/_jsx(\"p\",{className:\"message\",children:\"Loading..\"});}function Header(_ref){let{showForm,setShowForm}=_ref;const appTitle=\"Today I Learned\";return/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logo\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"logo.png\",height:\"68\",width:\"68\",alt:\"Today I Learned Logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:appTitle})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-large btn-open\"// 3. update state variable\n,onClick:()=>setShowForm(show=>!show),children:showForm?'Close':'Share a fact'})]});}const CATEGORIES=[{name:\"technology\",color:\"#3b82f6\"},{name:\"science\",color:\"#16a34a\"},{name:\"finance\",color:\"#ef4444\"},{name:\"society\",color:\"#eab308\"},{name:\"entertainment\",color:\"#db2777\"},{name:\"health\",color:\"#14b8a6\"},{name:\"history\",color:\"#f97316\"},{name:\"news\",color:\"#8b5cf6\"}];function isValidHttpUrl(string){let url;try{url=new URL(string);}catch(_){return false;}return url.protocol===\"http:\"||url.protocol===\"https:\";}function NewFactForm(_ref2){let{setFacts,setShowForm}=_ref2;const[text,setText]=useState(\"\");const[source,setSource]=useState(\"\");const[category,setCategory]=useState(\"\");const[isUploading,setIsUploading]=useState(false);const textLength=text.length;async function handleSubmit(e){// 1. prevent browser reload\ne.preventDefault();console.log(text,source,category);// 2. check if data is valid, if so, create a fact\nif(text&&isValidHttpUrl(source)&&category&&textLength<=200){// 3. create a new fact object\n// const newFact = {\n//   id: Math.round(Math.random() * 100000000),\n//   text,\n//   source,\n//   category,\n//   votesInteresting: 0,\n//   votesMindblowing: 0,\n//   votesFalse: 0,\n//   createdIn: new Date().getFullYear(),\n// };\n// 3. upload fact to supabse and recieve the new fact object\nsetIsUploading(true);const{data:newFact,error}=await supabase.from(\"facts\").insert([{text,source,category}]).select();setIsUploading(false);// 4. add the new fact to the UI: add the fact to state\nif(!error)setFacts(facts=>[newFact[0],...facts]);// 5. reset input fields\nsetText(\"\");setSource(\"\");setCategory(\"\");// 6. close the form\nsetShowForm(false);}}return/*#__PURE__*/_jsxs(\"form\",{className:\"fact-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Share a fact with the world...\",value:text,onChange:e=>setText(e.target.value),disabled:isUploading}),/*#__PURE__*/_jsx(\"span\",{children:200-textLength}),/*#__PURE__*/_jsx(\"input\",{value:source,type:\"text\",placeholder:\"Trustworthy source...\",onChange:e=>setSource(e.target.value),disabled:isUploading}),/*#__PURE__*/_jsxs(\"select\",{value:category,onChange:e=>setCategory(e.target.value),disabled:isUploading,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Choose category\"}),CATEGORIES.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat.name,children:cat.name.toUpperCase()},cat.name))]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-large\",disabled:isUploading,children:\"Post\"})]});}function CategoryFilter(_ref3){let{SetCurrentCategory}=_ref3;return/*#__PURE__*/_jsx(\"aside\",{children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{className:\"category\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-all-categories\",onClick:()=>SetCurrentCategory(\"all\"),children:\"All\"})}),CATEGORIES.map(cat=>/*#__PURE__*/_jsx(\"li\",{className:\"category\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-category\",style:{backgroundColor:cat.color},onClick:()=>SetCurrentCategory(cat.name),children:cat.name})},cat.name))]})});}function FactList(_ref4){let{facts,setFacts}=_ref4;//temporary\nif(facts.length===0)return/*#__PURE__*/_jsx(\"p\",{className:\"message\",children:\"No facts for this category yet! Create the first one \\u270C\\uFE0F\"});return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"ul\",{className:\"facts-list\",children:facts.map(fact=>/*#__PURE__*/_jsx(Fact,{fact:fact,setFacts:setFacts},fact.id))}),/*#__PURE__*/_jsxs(\"p\",{children:[\"There are \",facts.length,\" facts in the database. Add your own!\"]})]});}function Fact(_ref5){let{fact,setFacts}=_ref5;// // Find the category with a matching name\n// const category = CATEGORIES.find((cat) => cat.name === fact.category);\n// // Check if the category is found before accessing its properties\n// const backgroundColor = category ? category.color : 'gray';\nconst[isUpdating,setIsUpdating]=useState(false);const isDisputed=fact.votesInteresting+fact.votesMindblowing<fact.votesFalse;async function handleVote(columnName){setIsUpdating(true);const{data:updatedFact,error}=await supabase.from('facts').update({[columnName]:fact[columnName]+1}).eq(\"id\",fact.id).select();setIsUpdating(false);if(!error)setFacts(facts=>facts.map(f=>f.id===fact.id?updatedFact[0]:f));}const getCategoryColor=categoryName=>{const category=CATEGORIES.find(cat=>cat.name===categoryName);return category?category.color:'gray';};return/*#__PURE__*/_jsxs(\"li\",{className:\"fact\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[isDisputed?/*#__PURE__*/_jsx(\"span\",{className:\"disputed\",children:\" [\\u26D4\\uFE0F DISPUTED] \"}):null,fact.text,/*#__PURE__*/_jsx(\"a\",{className:\"source\",href:fact.source,target:\"_blank\",children:\"[Source]\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"tag\",style:{backgroundColor:getCategoryColor(fact.category)},children:fact.category}),/*#__PURE__*/_jsxs(\"div\",{className:\"vote-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleVote(\"votesInteresting\"),disabled:isUpdating,children:[\"\\uD83D\\uDC4D \",fact.votesInteresting]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleVote(\"votesMindblowing\"),disabled:isUpdating,children:[\"\\uD83E\\uDD2F \",fact.votesMindblowing]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleVote(\"votesFalse\"),disabled:isUpdating,children:[\"\\u26D4\\uFE0F \",fact.votesFalse]})]})]});}export default App;","map":{"version":3,"names":["useEffect","useState","supabase","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","initialFacts","id","text","source","category","votesInteresting","votesMindblowing","votesFalse","createdIn","Counter","count","setCount","children","style","fontSize","className","onClick","c","App","showForm","setShowForm","facts","setFacts","isLoading","setIsLoading","currentCategory","SetCurrentCategory","getFacts","query","from","select","eq","data","error","order","ascending","limit","alert","Header","NewFactForm","CategoryFilter","Loader","FactList","_ref","appTitle","src","height","width","alt","show","CATEGORIES","name","color","isValidHttpUrl","string","url","URL","_","protocol","_ref2","setText","setSource","setCategory","isUploading","setIsUploading","textLength","length","handleSubmit","e","preventDefault","console","log","newFact","insert","onSubmit","type","placeholder","value","onChange","target","disabled","map","cat","toUpperCase","_ref3","backgroundColor","_ref4","fact","Fact","_ref5","isUpdating","setIsUpdating","isDisputed","handleVote","columnName","updatedFact","update","f","getCategoryColor","categoryName","find","href"],"sources":["/Users/varshav/Desktop/facts app/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport supabase from \"./supabase\";\n\nimport \"./style.css\";\n\nconst initialFacts = [\n  {\n    id: 1,\n    text: \"React is being developed by Meta (formerly facebook)\",\n    source: \"https://opensource.fb.com/\",\n    category: \"technology\",\n    votesInteresting: 24,\n    votesMindblowing: 9,\n    votesFalse: 4,\n    createdIn: 2021,\n  },\n  {\n    id: 2,\n    text: \"Millennial dads spend 3 times as much time with their kids than their fathers spent with them. In 1982, 43% of fathers had never changed a diaper. Today, that number is down to 3%\",\n    source:\n      \"https://www.mother.ly/parenting/millennial-dads-spend-more-time-with-their-kids\",\n    category: \"society\",\n    votesInteresting: 11,\n    votesMindblowing: 2,\n    votesFalse: 0,\n    createdIn: 2019,\n  },\n  {\n    id: 3,\n    text: \"Lisbon is the capital of Portugal\",\n    source: \"https://en.wikipedia.org/wiki/Lisbon\",\n    category: \"society\",\n    votesInteresting: 8,\n    votesMindblowing: 3,\n    votesFalse: 1,\n    createdIn: 2015,\n  },\n];\n\nfunction Counter() {\n  const [count, setCount] = useState(0);\n\n\n  return (\n    <div>\n      <span style={ { fontSize: \"40px\" } }>{ count }</span>\n      <button className=\"btn btn-large\" onClick={ () => setCount((c) => c + 1) }>+1</button>\n    </div>\n  );\n}\n\nfunction App() {\n  // 1. define state variable\n  const [showForm, setShowForm] = useState(false);\n  const [facts, setFacts] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [currentCategory, SetCurrentCategory] = useState(\"all\");\n\n\n  useEffect(function () {\n    async function getFacts() {\n      setIsLoading(true);\n\n      let query = supabase.from(\"facts\")\n        .select(\"*\");\n\n      if (currentCategory !== \"all\")\n        query = query.eq(\"category\", currentCategory);\n\n      const { data: facts, error } = await query\n        .order(\"votesInteresting\", { ascending: false })\n        .limit(1000);\n\n\n\n      if (!error) { setFacts(facts); }\n      else { alert(\"There was a problem getting data\"); }\n\n      setIsLoading(false);\n    }\n    getFacts();\n  }, [currentCategory]);\n\n  return (\n    <>\n      {/* HEADER */ }\n      <Header showForm={ showForm } setShowForm={ setShowForm } />\n\n      {/* 2. use state variable */ }\n      { showForm ? <NewFactForm setFacts={ setFacts } setShowForm={ setShowForm } /> : null }\n\n      <main className=\"main\">\n        <CategoryFilter SetCurrentCategory={ SetCurrentCategory } />\n        { isLoading ? (<Loader />) : (<FactList facts={ facts } setFacts={ setFacts } />) }\n\n\n      </main>\n    </>\n  );\n}\n\nfunction Loader() {\n  return <p className=\"message\">Loading..</p>\n}\n\nfunction Header({ showForm, setShowForm }) {\n  const appTitle = \"Today I Learned\";\n  return (\n    <header className=\"header\">\n      <div className=\"logo\">\n        <img src=\"logo.png\" height=\"68\" width=\"68\" alt=\"Today I Learned Logo\" />\n        <h1>{ appTitle }</h1>\n      </div>\n      <button className=\"btn btn-large btn-open\"\n        // 3. update state variable\n        onClick={ () => setShowForm((show) => !show) }>{ showForm ? 'Close' : 'Share a fact' }</button>\n    </header>\n  );\n}\n\nconst CATEGORIES = [\n  { name: \"technology\", color: \"#3b82f6\" },\n  { name: \"science\", color: \"#16a34a\" },\n  { name: \"finance\", color: \"#ef4444\" },\n  { name: \"society\", color: \"#eab308\" },\n  { name: \"entertainment\", color: \"#db2777\" },\n  { name: \"health\", color: \"#14b8a6\" },\n  { name: \"history\", color: \"#f97316\" },\n  { name: \"news\", color: \"#8b5cf6\" },\n];\n\nfunction isValidHttpUrl(string) {\n  let url;\n  try\n  {\n    url = new URL(string);\n  } catch (_)\n  {\n    return false;\n  }\n  return url.protocol === \"http:\" || url.protocol === \"https:\";\n}\n\nfunction NewFactForm({ setFacts, setShowForm }) {\n  const [text, setText] = useState(\"\");\n  const [source, setSource] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [isUploading, setIsUploading] = useState(false);\n  const textLength = text.length;\n\n\n  async function handleSubmit(e) {\n    // 1. prevent browser reload\n    e.preventDefault();\n    console.log(text, source, category);\n\n\n    // 2. check if data is valid, if so, create a fact\n    if (text && isValidHttpUrl(source) && category && textLength <= 200)\n    {\n\n      // 3. create a new fact object\n      // const newFact = {\n      //   id: Math.round(Math.random() * 100000000),\n      //   text,\n      //   source,\n      //   category,\n      //   votesInteresting: 0,\n      //   votesMindblowing: 0,\n      //   votesFalse: 0,\n      //   createdIn: new Date().getFullYear(),\n      // };\n\n      // 3. upload fact to supabse and recieve the new fact object\n      setIsUploading(true);\n      const { data: newFact, error } = await supabase.from(\"facts\").insert([{ text, source, category }]).select();\n      setIsUploading(false);\n\n      // 4. add the new fact to the UI: add the fact to state\n      if (!error) setFacts((facts) => [newFact[0], ...facts]);\n\n      // 5. reset input fields\n      setText(\"\");\n      setSource(\"\");\n      setCategory(\"\");\n      // 6. close the form\n      setShowForm(false);\n\n    }\n  }\n\n  return (\n    <form className=\"fact-form\" onSubmit={ handleSubmit }>\n      <input type=\"text\" placeholder=\"Share a fact with the world...\" value={ text }\n        onChange={ (e) => setText(e.target.value) } disabled={ isUploading } />\n      <span>{ 200 - textLength }</span>\n      <input value={ source } type=\"text\" placeholder=\"Trustworthy source...\" onChange={ (e) => setSource(e.target.value) } disabled={ isUploading } />\n      <select value={ category } onChange={ (e) => setCategory(e.target.value) } disabled={ isUploading }>\n        <option value=\"\">Choose category</option>\n        { CATEGORIES.map((cat) => (\n          <option key={ cat.name } value={ cat.name }>{ cat.name.toUpperCase() }</option>\n        )) }\n      </select>\n      <button className=\"btn btn-large\" disabled={ isUploading }>Post</button>\n    </form>\n  );\n}\n\n\n\nfunction CategoryFilter({ SetCurrentCategory }) {\n  return (\n    <aside>\n      <ul>\n        <li className=\"category\">\n          <button className=\"btn btn-all-categories\" onClick={ () => SetCurrentCategory(\"all\") }>\n            All\n          </button>\n        </li>\n        { CATEGORIES.map((cat) => (\n          <li key={ cat.name } className=\"category\">\n            <button className=\"btn btn-category\" style={ { backgroundColor: cat.color } } onClick={ () => SetCurrentCategory(cat.name) }>\n              { cat.name }\n            </button>\n          </li>\n        )) }\n      </ul>\n    </aside>\n  );\n}\n\nfunction FactList({ facts, setFacts }) {\n  //temporary\n  if (facts.length === 0)\n    return (\n      <p className=\"message\">No facts for this category yet! Create the first one ‚úåÔ∏è</p>\n    );\n  return (\n    <section><ul className=\"facts-list\">\n      { facts.map((fact) => (<Fact key={ fact.id } fact={ fact } setFacts={ setFacts } />)) }\n    </ul>\n      <p>There are { facts.length } facts in the database. Add your own!</p>\n    </section>\n  );\n}\n\nfunction Fact({ fact, setFacts }) {\n  // // Find the category with a matching name\n  // const category = CATEGORIES.find((cat) => cat.name === fact.category);\n\n  // // Check if the category is found before accessing its properties\n  // const backgroundColor = category ? category.color : 'gray';\n\n  const [isUpdating, setIsUpdating] = useState(false);\n  const isDisputed = fact.votesInteresting + fact.votesMindblowing < fact.votesFalse;\n\n  async function handleVote(columnName) {\n    setIsUpdating(true);\n    const { data: updatedFact, error } = await supabase.from('facts').update({ [columnName]: fact[columnName] + 1 }).eq(\"id\", fact.id).select();\n    setIsUpdating(false);\n    if (!error) setFacts((facts) => facts.map((f) => (f.id === fact.id ? updatedFact[0] : f)));\n  }\n\n  const getCategoryColor = (categoryName) => {\n    const category = CATEGORIES.find((cat) => cat.name === categoryName);\n    return category ? category.color : 'gray';\n  };\n\n  return (\n    <li className=\"fact\">\n      <p>\n        { isDisputed ? <span className=\"disputed\"> [‚õîÔ∏è DISPUTED] </span> : null }\n        { fact.text }\n        <a className=\"source\" href={ fact.source } target=\"_blank\">[Source]</a>\n\n      </p>\n      <span className=\"tag\" style={ { backgroundColor: getCategoryColor(fact.category) } }>{ fact.category }</span>\n      <div className=\"vote-buttons\">\n        <button onClick={ () => handleVote(\"votesInteresting\") } disabled={ isUpdating }>üëç { fact.votesInteresting }</button>\n        <button onClick={ () => handleVote(\"votesMindblowing\") } disabled={ isUpdating }>ü§Ø { fact.votesMindblowing }</button>\n        <button onClick={ () => handleVote(\"votesFalse\") } disabled={ isUpdating }>‚õîÔ∏è { fact.votesFalse }</button>\n      </div>\n    </li>\n  );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}